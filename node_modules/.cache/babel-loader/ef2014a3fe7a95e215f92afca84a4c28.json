{"ast":null,"code":"import _objectSpread from\"/Users/g/Documents/myCodeProjects/rick-morty-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from'react-hook-form';import{getAllCharactersAsync,getSpeciesAsync,setSearchFormName}from'../redux/rickMortySlice';import{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Character}from'./reusable/Character';// component to display on 'Search Form' link, also displayed as main page\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Searchform(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _useSelector=useSelector(function(state){return state.rickMorty;}),displaySpecies=_useSelector.displaySpecies,speciesStatus=_useSelector.speciesStatus,speciesError=_useSelector.speciesError,displayAllCharacters=_useSelector.displayAllCharacters,allCharactersStatus=_useSelector.allCharactersStatus,allCharactersError=_useSelector.allCharactersError,searchFormName=_useSelector.searchFormName;var dispatch=useDispatch();useEffect(function(){dispatch(getAllCharactersAsync());},[dispatch]);useEffect(function(){dispatch(getSpeciesAsync({query:'character',filter:'name',name:searchFormName}));},[dispatch,searchFormName]);var onSubmit=function onSubmit(value){dispatch(setSearchFormName(value.name));reset();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5 custom-width\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"h3 text-center my-4\",children:\"Find your character\"}),searchFormName===''?/*#__PURE__*/_jsx(\"p\",{className:\"my-3\",children:\"Enter name...\"}):speciesStatus==='loading'?/*#__PURE__*/_jsx(\"p\",{className:\"my-3\",children:\"Loading...\"}):speciesStatus==='succeeded'&&displaySpecies.results?/*#__PURE__*/_jsx(\"p\",{className:\"my-3\",children:\"Look what I found:\"}):speciesStatus==='succeeded'&&displaySpecies.error?/*#__PURE__*/_jsxs(\"p\",{className:\"my-3\",children:[\"Ops, \",displaySpecies.error.toLowerCase(),\"!\"]}):speciesStatus==='rejected'&&speciesError?/*#__PURE__*/_jsxs(\"p\",{className:\"my-3\",children:[\"Ops, \",speciesError.toLowerCase(),\"!\"]}):null,/*#__PURE__*/_jsxs(\"form\",{className:\"input-group input-group-sm my-4\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"form-control\",list:\"datalistOptions\",id:\"exampleDataList\"},register('name')),{},{\"aria-label\":\"Text input with dropdown button\",autoComplete:\"off\"})),/*#__PURE__*/_jsx(\"datalist\",{className:\"datalist\",id:\"datalistOptions\",children:allCharactersStatus==='loading'?/*#__PURE__*/_jsx(\"option\",{label:\"loading\",children:\"Loading...\"}):allCharactersStatus==='succeeded'&&displayAllCharacters?displayAllCharacters.map(function(char){return/*#__PURE__*/_jsx(\"option\",{value:char.name},char.id);}):allCharactersStatus==='failed'&&allCharactersError?/*#__PURE__*/_jsxs(\"option\",{label:\"error\",children:[\"Oops, \",allCharactersError]}):null}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"button\",onClick:handleSubmit(onSubmit),children:\"Start/Reset\"})]}),/*#__PURE__*/_jsx(\"div\",{children:searchFormName===''?null:speciesStatus==='succeeded'&&searchFormName!==''&&displaySpecies.results?displaySpecies.results.map(function(item){return/*#__PURE__*/_jsx(Character,{id:item.id,name:item.name,status:item.status,species:item.species,gender:item.gender,location:item.location,episode:item.episode,created:item.created,image:item.image},item.id+1);}):null})]});}","map":{"version":3,"names":["useForm","getAllCharactersAsync","getSpeciesAsync","setSearchFormName","useEffect","useSelector","useDispatch","Character","Searchform","register","handleSubmit","reset","state","rickMorty","displaySpecies","speciesStatus","speciesError","displayAllCharacters","allCharactersStatus","allCharactersError","searchFormName","dispatch","query","filter","name","onSubmit","value","results","error","toLowerCase","map","char","id","item","status","species","gender","location","episode","created","image"],"sources":["/Users/g/Documents/myCodeProjects/rick-morty-new/src/components/Searchform.js"],"sourcesContent":["import { useForm } from 'react-hook-form';\nimport { getAllCharactersAsync, getSpeciesAsync, setSearchFormName } from '../redux/rickMortySlice';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Character } from './reusable/Character';\n\n// component to display on 'Search Form' link, also displayed as main page\nexport function Searchform () {\n\n  const { register, handleSubmit, reset } = useForm();\n\n  const { \n    displaySpecies,\n    speciesStatus, \n    speciesError,\n    displayAllCharacters, \n    allCharactersStatus, \n    allCharactersError,\n    searchFormName \n  } = useSelector(state => state.rickMorty)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getAllCharactersAsync())\n  }, [dispatch])\n\n  useEffect(() => {\n    dispatch(getSpeciesAsync({\n      query: 'character',\n      filter: 'name',\n      name: searchFormName\n    }))\n  }, [dispatch, searchFormName])\n\n\n  const onSubmit = (value) => {\n    dispatch(setSearchFormName(value.name))\n    reset();\n  }\n\n  return (\n    <div className='container-fluid mt-5 custom-width'>\n      <h3 className='h3 text-center my-4'>Find your character</h3>\n      \n      {\n        searchFormName === '' ?\n        <p className=\"my-3\">Enter name...</p> :\n        speciesStatus === 'loading' ?\n        <p className=\"my-3\">Loading...</p> :\n        speciesStatus === 'succeeded' && displaySpecies.results ?\n        <p className=\"my-3\">Look what I found:</p> :\n        speciesStatus === 'succeeded' && displaySpecies.error ?\n        <p className=\"my-3\">Ops, {displaySpecies.error.toLowerCase()}!</p> :\n        speciesStatus === 'rejected' && speciesError ?\n        <p className=\"my-3\">Ops, {speciesError.toLowerCase()}!</p> :\n        null\n      }\n      <form className='input-group input-group-sm my-4' onSubmit={handleSubmit(onSubmit)}>\n        <input \n          className=\"form-control\" \n          list=\"datalistOptions\" \n          id=\"exampleDataList\" \n          {...register('name')} \n          aria-label=\"Text input with dropdown button\" \n          autoComplete=\"off\" \n        />\n        <datalist className='datalist' id=\"datalistOptions\">\n          \n          { \n            allCharactersStatus === 'loading' ?\n            <option label='loading'>Loading...</option> :\n            allCharactersStatus === 'succeeded' && displayAllCharacters ?\n            displayAllCharacters.map(char => \n              <option key={char.id} value={char.name} />\n            ) :\n            allCharactersStatus === 'failed' && allCharactersError ?\n            <option label='error'>Oops, {allCharactersError}</option> :\n            null\n          }\n          \n        </datalist>\n        <button className=\"btn\" type=\"button\" onClick={handleSubmit(onSubmit)}>Start/Reset</button>\n      </form>\n      <div>\n        \n        {\n          searchFormName === '' ?\n          null :\n          speciesStatus === 'succeeded' && searchFormName !== '' && displaySpecies.results ?\n          displaySpecies.results.map(item => \n            <Character \n              id={item.id}\n              key={item.id + 1}\n              name={item.name}\n              status={item.status}\n              species={item.species}\n              gender={item.gender}\n              location={item.location}\n              episode={item.episode}\n              created={item.created}\n              image={item.image}\n            />\n          ) :\n          null\n        }\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}