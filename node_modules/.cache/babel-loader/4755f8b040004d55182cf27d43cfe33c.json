{"ast":null,"code":"var _jsxFileName = \"/Users/g/Documents/myCodeProjects/rick-morty-new/src/components/CharacterList/FilterForm.js\",\n    _s = $RefreshSig$();\n\nimport { useGetAllCharactersQuery } from \"../../redux/rickMortyApi\";\nimport { setFilter, getAllAsync } from \"../../redux/rickMortySlice\";\nimport { useForm } from \"react-hook-form\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterForm = _ref => {\n  _s();\n\n  let {\n    filter\n  } = _ref;\n  const {\n    data,\n    isSuccess\n  } = useGetAllCharactersQuery();\n  const {\n    displayAllCharacters,\n    allCharactersStatus,\n    allCharactersError\n  } = useSelector(state => state.rickMorty);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAllAsync({\n      query: 'character',\n      count: 42\n    }));\n  }, [dispatch]);\n\n  const clearDuplicates = array => {\n    let sorted = new Set(array);\n    const sortedArr = [];\n\n    for (let value of sorted) sortedArr.push(value);\n\n    return sortedArr;\n  };\n\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n\n  const onSubmit = data => {\n    dispatch(setFilter({\n      filter,\n      name: data[filter]\n    }));\n    reset();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"input-group input-group-sm my-4\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"form-control\",\n      ...register(filter),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        label: `select ${filter}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), allCharactersStatus === 'loading' ? /*#__PURE__*/_jsxDEV(\"option\", {\n        label: \"loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : allCharactersStatus === 'succeeded' && displayAllCharacters ? clearDuplicates(displayAllCharacters.map(item => item[filter])).map((item, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n        label: item,\n        children: item\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this)) : allCharactersStatus === 'failed' && allCharactersError ? /*#__PURE__*/_jsxDEV(\"option\", {\n        label: \"error\",\n        children: [\"Oops, \", allCharactersError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      type: \"submit\",\n      children: filter[0].toUpperCase() + filter.slice(1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilterForm, \"V6B5kKkEfKKUIG3B2+gS2a0yecQ=\", false, function () {\n  return [useGetAllCharactersQuery, useSelector, useDispatch, useForm];\n});\n\n_c = FilterForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterForm\");","map":{"version":3,"names":["useGetAllCharactersQuery","setFilter","getAllAsync","useForm","useEffect","useDispatch","useSelector","FilterForm","filter","data","isSuccess","displayAllCharacters","allCharactersStatus","allCharactersError","state","rickMorty","dispatch","query","count","clearDuplicates","array","sorted","Set","sortedArr","value","push","register","handleSubmit","reset","onSubmit","name","map","item","i","toUpperCase","slice"],"sources":["/Users/g/Documents/myCodeProjects/rick-morty-new/src/components/CharacterList/FilterForm.js"],"sourcesContent":["import { useGetAllCharactersQuery } from \"../../redux/rickMortyApi\"\nimport { setFilter, getAllAsync } from \"../../redux/rickMortySlice\"\nimport { useForm } from \"react-hook-form\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nexport const FilterForm = ({ filter }) => {\n\n  const { data, isSuccess } = useGetAllCharactersQuery()\n\n  const {\n    displayAllCharacters,\n    allCharactersStatus,\n    allCharactersError\n  } = useSelector(state => state.rickMorty)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getAllAsync({ query: 'character', count: 42 }))\n  }, [dispatch])\n\n  const clearDuplicates = (array) => {\n    let sorted = new Set(array)\n    const sortedArr = []\n    for (let value of sorted) sortedArr.push(value)\n    return sortedArr\n  }\n\n  const {\n    register, \n    handleSubmit,\n    reset\n  } = useForm()\n\n  const onSubmit = (data) => {\n    dispatch(setFilter({ filter, name: data[filter] }))\n    reset()\n  }\n\n\n  return (\n    <form className=\"input-group input-group-sm my-4\" onSubmit={handleSubmit(onSubmit)}>\n      <select className=\"form-control\" {...register(filter)} >\n        <option label={`select ${filter}`}></option>\n        {/* {\n          isSuccess ?\n          clearDuplicates(data.map(item => item[filter]))\n            .map((item, i) => \n              <option key={i} label={item}>{item}</option>\n            ) :\n            null\n        } */}\n        {\n          allCharactersStatus === 'loading' ? \n          <option label='loading'>Loading...</option> :\n          allCharactersStatus === 'succeeded' && displayAllCharacters ?\n          clearDuplicates(displayAllCharacters.map(item => item[filter]))\n            .map((item, i) => \n              <option key={i} label={item}>{item}</option>\n            ) :\n          allCharactersStatus === 'failed' && allCharactersError ?\n          <option label='error'>Oops, {allCharactersError}</option> :\n          null\n        }\n      </select>\n      <button\n        className=\"btn\" \n        type='submit'\n      >\n        {filter[0].toUpperCase() + filter.slice(1)}\n      </button>\n    </form>\n  )\n}"],"mappings":";;;AAAA,SAASA,wBAAT,QAAyC,0BAAzC;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,4BAAvC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAEA,OAAO,MAAMC,UAAU,GAAG,QAAgB;EAAA;;EAAA,IAAf;IAAEC;EAAF,CAAe;EAExC,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAsBV,wBAAwB,EAApD;EAEA,MAAM;IACJW,oBADI;IAEJC,mBAFI;IAGJC;EAHI,IAIFP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,SAAhB,CAJf;EAMA,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;EAEAD,SAAS,CAAC,MAAM;IACdY,QAAQ,CAACd,WAAW,CAAC;MAAEe,KAAK,EAAE,WAAT;MAAsBC,KAAK,EAAE;IAA7B,CAAD,CAAZ,CAAR;EACD,CAFQ,EAEN,CAACF,QAAD,CAFM,CAAT;;EAIA,MAAMG,eAAe,GAAIC,KAAD,IAAW;IACjC,IAAIC,MAAM,GAAG,IAAIC,GAAJ,CAAQF,KAAR,CAAb;IACA,MAAMG,SAAS,GAAG,EAAlB;;IACA,KAAK,IAAIC,KAAT,IAAkBH,MAAlB,EAA0BE,SAAS,CAACE,IAAV,CAAeD,KAAf;;IAC1B,OAAOD,SAAP;EACD,CALD;;EAOA,MAAM;IACJG,QADI;IAEJC,YAFI;IAGJC;EAHI,IAIFzB,OAAO,EAJX;;EAMA,MAAM0B,QAAQ,GAAIpB,IAAD,IAAU;IACzBO,QAAQ,CAACf,SAAS,CAAC;MAAEO,MAAF;MAAUsB,IAAI,EAAErB,IAAI,CAACD,MAAD;IAApB,CAAD,CAAV,CAAR;IACAoB,KAAK;EACN,CAHD;;EAMA,oBACE;IAAM,SAAS,EAAC,iCAAhB;IAAkD,QAAQ,EAAED,YAAY,CAACE,QAAD,CAAxE;IAAA,wBACE;MAAQ,SAAS,EAAC,cAAlB;MAAA,GAAqCH,QAAQ,CAAClB,MAAD,CAA7C;MAAA,wBACE;QAAQ,KAAK,EAAG,UAASA,MAAO;MAAhC;QAAA;QAAA;QAAA;MAAA,QADF,EAWII,mBAAmB,KAAK,SAAxB,gBACA;QAAQ,KAAK,EAAC,SAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,GAEAA,mBAAmB,KAAK,WAAxB,IAAuCD,oBAAvC,GACAQ,eAAe,CAACR,oBAAoB,CAACoB,GAArB,CAAyBC,IAAI,IAAIA,IAAI,CAACxB,MAAD,CAArC,CAAD,CAAf,CACGuB,GADH,CACO,CAACC,IAAD,EAAOC,CAAP,kBACH;QAAgB,KAAK,EAAED,IAAvB;QAAA,UAA8BA;MAA9B,GAAaC,CAAb;QAAA;QAAA;QAAA;MAAA,QAFJ,CADA,GAKArB,mBAAmB,KAAK,QAAxB,IAAoCC,kBAApC,gBACA;QAAQ,KAAK,EAAC,OAAd;QAAA,qBAA6BA,kBAA7B;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,GAEA,IApBJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAwBE;MACE,SAAS,EAAC,KADZ;MAEE,IAAI,EAAC,QAFP;MAAA,UAIGL,MAAM,CAAC,CAAD,CAAN,CAAU0B,WAAV,KAA0B1B,MAAM,CAAC2B,KAAP,CAAa,CAAb;IAJ7B;MAAA;MAAA;MAAA;IAAA,QAxBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD,CApEM;;GAAM5B,U;UAEiBP,wB,EAMxBM,W,EAEaD,W,EAiBbF,O;;;KA3BOI,U"},"metadata":{},"sourceType":"module"}