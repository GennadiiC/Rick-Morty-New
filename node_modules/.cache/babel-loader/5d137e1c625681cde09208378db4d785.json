{"ast":null,"code":"import _objectSpread from\"/Users/g/Documents/myCodeProjects/rick-morty-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createForOfIteratorHelper from\"/Users/g/Documents/myCodeProjects/rick-morty-new/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{useForm}from\"react-hook-form\";import{useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FilterForm=function FilterForm(_ref){var filter=_ref.filter,display=_ref.display,status=_ref.status,error=_ref.error,asyncFuncAll=_ref.asyncFuncAll,asyncFuncLocal=_ref.asyncFuncLocal;var dispatch=useDispatch();useEffect(function(){dispatch(asyncFuncAll());},[dispatch,asyncFuncAll]);var clearDuplicates=function clearDuplicates(array){var sorted=new Set(array);var sortedArr=[];var _iterator=_createForOfIteratorHelper(sorted),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;sortedArr.push(value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return sortedArr;};var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var onSubmit=function onSubmit(data){dispatch(asyncFuncLocal({filter:filter,name:data[filter]}));reset();};return/*#__PURE__*/_jsxs(\"form\",{className:\"input-group input-group-sm my-3\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({className:\"form-control\"},register(filter)),{},{children:[/*#__PURE__*/_jsx(\"option\",{label:\"select \".concat(filter)}),status==='loading'?/*#__PURE__*/_jsx(\"option\",{label:\"loading\",children:\"Loading...\"}):status==='succeeded'&&display?clearDuplicates(display.map(function(item){return item[filter];})).map(function(item,i){return/*#__PURE__*/_jsx(\"option\",{label:item,children:item},i);}):status==='failed'&&error?/*#__PURE__*/_jsxs(\"option\",{label:\"error\",children:[\"Oops, \",error]}):null]})),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:filter[0].toUpperCase()+filter.slice(1)})]});};","map":{"version":3,"names":["useForm","useEffect","useDispatch","FilterForm","filter","display","status","error","asyncFuncAll","asyncFuncLocal","dispatch","clearDuplicates","array","sorted","Set","sortedArr","value","push","register","handleSubmit","reset","onSubmit","data","name","map","item","i","toUpperCase","slice"],"sources":["/Users/g/Documents/myCodeProjects/rick-morty-new/src/components/reusable/FilterForm.js"],"sourcesContent":["import { useForm } from \"react-hook-form\"\nimport { useEffect } from \"react\"\nimport { useDispatch } from \"react-redux\"\n\nexport const FilterForm = ({ filter, display, status, error, asyncFuncAll, asyncFuncLocal }) => {\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(asyncFuncAll())\n  }, [dispatch, asyncFuncAll])\n\n  const clearDuplicates = (array) => {\n    let sorted = new Set(array)\n    const sortedArr = []\n    for (let value of sorted) sortedArr.push(value)\n    return sortedArr\n  }\n\n  const {\n    register, \n    handleSubmit,\n    reset\n  } = useForm()\n\n  const onSubmit = (data) => {\n    dispatch(asyncFuncLocal({ filter, name: data[filter] }))\n    reset()\n  }\n\n\n  return (\n    <form className=\"input-group input-group-sm my-3\" onSubmit={handleSubmit(onSubmit)}>\n      <select className=\"form-control\" {...register(filter)} >\n        <option label={`select ${filter}`}></option>\n        { \n          status === 'loading' ?\n          <option label='loading'>Loading...</option> :\n          status === 'succeeded' && display ?\n          clearDuplicates(display.map(item => item[filter]))\n            .map((item, i) => \n              <option key={i} label={item}>{item}</option>\n            ) :\n          status === 'failed' && error ?\n          <option label='error'>Oops, {error}</option> :\n          null\n        }\n      </select>\n      <button\n        className=\"btn\" \n        type='submit'\n      >\n        {filter[0].toUpperCase() + filter.slice(1)}\n      </button>\n    </form>\n  )\n}"],"mappings":"mSAAA,OAASA,OAAT,KAAwB,iBAAxB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,MAAsE,IAAnEC,OAAmE,MAAnEA,MAAmE,CAA3DC,OAA2D,MAA3DA,OAA2D,CAAlDC,MAAkD,MAAlDA,MAAkD,CAA1CC,KAA0C,MAA1CA,KAA0C,CAAnCC,YAAmC,MAAnCA,YAAmC,CAArBC,cAAqB,MAArBA,cAAqB,CAE9F,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACdS,QAAQ,CAACF,YAAY,EAAb,CAAR,CACD,CAFQ,CAEN,CAACE,QAAD,CAAWF,YAAX,CAFM,CAAT,CAIA,GAAMG,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CACjC,GAAIC,OAAM,CAAG,GAAIC,IAAJ,CAAQF,KAAR,CAAb,CACA,GAAMG,UAAS,CAAG,EAAlB,CAFiC,yCAGfF,MAHe,YAGjC,+CAA0B,IAAjBG,MAAiB,aAAAD,SAAS,CAACE,IAAV,CAAeD,KAAf,EAAqB,CAHd,qDAIjC,MAAOD,UAAP,CACD,CALD,CAOA,aAIIf,OAAO,EAJX,CACEkB,QADF,UACEA,QADF,CAEEC,YAFF,UAEEA,YAFF,CAGEC,KAHF,UAGEA,KAHF,CAMA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,IAAD,CAAU,CACzBZ,QAAQ,CAACD,cAAc,CAAC,CAAEL,MAAM,CAANA,MAAF,CAAUmB,IAAI,CAAED,IAAI,CAAClB,MAAD,CAApB,CAAD,CAAf,CAAR,CACAgB,KAAK,GACN,CAHD,CAMA,mBACE,cAAM,SAAS,CAAC,iCAAhB,CAAkD,QAAQ,CAAED,YAAY,CAACE,QAAD,CAAxE,wBACE,4CAAQ,SAAS,CAAC,cAAlB,EAAqCH,QAAQ,CAACd,MAAD,CAA7C,6BACE,eAAQ,KAAK,kBAAYA,MAAZ,CAAb,EADF,CAGIE,MAAM,GAAK,SAAX,cACA,eAAQ,KAAK,CAAC,SAAd,wBADA,CAEAA,MAAM,GAAK,WAAX,EAA0BD,OAA1B,CACAM,eAAe,CAACN,OAAO,CAACmB,GAAR,CAAY,SAAAC,IAAI,QAAIA,KAAI,CAACrB,MAAD,CAAR,EAAhB,CAAD,CAAf,CACGoB,GADH,CACO,SAACC,IAAD,CAAOC,CAAP,qBACH,eAAgB,KAAK,CAAED,IAAvB,UAA8BA,IAA9B,EAAaC,CAAb,CADG,EADP,CADA,CAKApB,MAAM,GAAK,QAAX,EAAuBC,KAAvB,cACA,gBAAQ,KAAK,CAAC,OAAd,oBAA6BA,KAA7B,GADA,CAEA,IAZJ,IADF,cAgBE,eACE,SAAS,CAAC,KADZ,CAEE,IAAI,CAAC,QAFP,UAIGH,MAAM,CAAC,CAAD,CAAN,CAAUuB,WAAV,GAA0BvB,MAAM,CAACwB,KAAP,CAAa,CAAb,CAJ7B,EAhBF,GADF,CAyBD,CApDM"},"metadata":{},"sourceType":"module"}